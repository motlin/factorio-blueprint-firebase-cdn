{
  "author": {
    "userId": "7fZJw6U2IuNkODcVttXvTOopf5G3"
  },
  "createdDate": 1517712572335,
  "fileName": "RequesterBase_v09.png",
  "image": {
    "height": 423,
    "id": "On368IC",
    "type": "image/jpeg",
    "width": 1488
  },
  "imageUrl": "https://firebasestorage.googleapis.com/v0/b/facorio-blueprints.appspot.com/o/RequesterBase_v09.png?alt=media&token=466d252c-adf1-453a-a344-397b8569b01b",
  "title": "ItemDelivery – RequesterBase [update 2022-08-08 v12]",
  "favorites": {
    "Qq0c9F2gAtSNE0AmnO96gz8NoTo1": true,
    "th9Wik5CEOdid6pTuddvUze7qAj1": true,
    "AqmwX0N6McbIKCeR8aM0LTTF1wR2": true,
    "bLTqwxErRoTWxYhqusKyAaSW81E2": true,
    "NECUCjOStQdiU4UQrXooDE6HBm62": true,
    "W59sIXvaJTWGeUaHKYcHkCxnDqF3": true,
    "qqCkAKgwsLX68cBSSp6SqtjMCtR2": true,
    "qZeMchEZzuXWhCGlg2v1wo4vcpz1": true,
    "ZDpk7kq5Y4RULwL1BSiv8whzPs22": true,
    "w8u5XX28eBhMjmdcJ3UaxNPB41i2": true,
    "edD3c21p5USPtTIgIdqW659UNPs1": true,
    "hxTZuEEgETSkPjmuO9llg2T7bQe2": true,
    "NccTZW4SjvhKiXQlfmazRXNa84h2": true,
    "FZBtFEpS13N87hKr26AjNJlgda92": true
  },
  "authorId": "7fZJw6U2IuNkODcVttXvTOopf5G3",
  "blueprintString": "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",
  "descriptionMarkdown": " \n**A system to deliver items by train from a central base to outposts.** \n\nsee also: [ItemDelivery - ProviderBase](https://factorioprints.com/view/-L4ThUDlc3ebWiNTQHbv)\n\nsee also: [ItemDelivery - RequesterBase](https://factorioprints.com/view/-L4Thzw_FogBACMitAlR)\n\nsee also: [ItemDelivery - TestSetup](https://factorioprints.com/view/-L4Tj7Wzf3BhoIh_kFoE)\n\nsee also: [ItemDelivery - Requester Module \"Inhibitor\"](https://factorioprints.com/view/-LX9bQG1RsJzUXNQPRm3)\n\nsee also: [ItemDelivery - Requester Module \"BotLossPrevention\"](https://factorioprints.com/view/-LXA1qPbtXRp8KI8ZPxW)explanation is below. \n\nexpressions like \"blockR1\" are references to the picture and the explanation where you can find a block R1 in the RequesterBase. \n\na changelog is at the end of the documentation. \n\n---\n- **tl;dr:**\n - vanilla, no mods needed\n - for double-headed 2-4-2 trains (single-headed-trains are untested but should be possible)\n - compatible to LHD & RHD (left hand drive & right hand drive)\n - intended for lategame basebuilding (like a bootstrap for a bigger base or an outpost)\n - use a constant combinator for up to 5 sequential requests (more variants possible, easily extendible, details below)\n - all RequesterBases have the same name (multiple stations are possible, see blockR3 to set station ID and prevent request collisions)\n - requires green cables along train-network (red cables are optional for this system)\n - connect green cables via big power poles to train-network\n \n---\n- **overall features:**\n - system delivers exact quantities of requested items\n - while loading the full stack-inserter bonus is utilized \n - no filters in cargo wagons are nessesary (-> easy train setup)\n - multiple different steps can be configured (i.e. “first the roboports & powerpoles, secondly the chests, then the inserters, at last the rest”)\n - delivery must be completely removed from passive-provider-chests, before next step is requested \n - trash is loaded from outposts (i.e. wood & stone) after unloading the delivery\n - train returns home after delivery\n - simple train-activity status (see below)\n - different pulse-based systems are possible as a index (signal-z) is used \n - system is \"immune\" to signals without or wrong z-index (permanent signals are problematic)\n\n---\n- **quick-setup:**\n - build ProviderBase in logistic range of your ME (“make everything”) \n   - connect green cable from big power pole to train wire network\n - place and configure train  \n   - set train configuration (see below), \n   - send train to ProviderBase (to connect it to the station)\n - build RequesterBase \n   - connect green cable from the big power pole \n - set 5 item-requests (requests may be small but NOT empty; see operation variants below)\n - enable constant combinator in blockR1 (see picture)\n - watch automation / wait for delivery \n\n--- \n- **additional setup-notes**\n - if using multiple requester stations set different IDs for each one\n   - increment each ID by at least 10, better 20\n   - IDs also act as a priority, lower IDs will send their request earlier\n   - note: sending a request will supress all other requester stations until the first request is fulfilled (blue lamp is turned on in R10)\n - the train will not unload until you have at least one logistic bot in requester-network\n   - simply deliver 4 or more logi-bots in your first request. \n   - if there are no logi-bots present, the long hand inserter will take one from the second wagon directly into the roboport. \n   - the long hand inserter is only active if there are zero logi-bots \n - requests can only be made if the passive providers are empty \n   - this prevents a clogged unload-chests and therefore incomplete deliveries\n   - the buffer chests act as a limited buffer in case you delivered to much or to send out the request before everything is used up\n - when the train returns to the provider station it is completely unloaded into active providers\n   - only after unloading the blue light is turned off to signal readiness for the next request \n\n---\n- **limitations:**\n - Requests can only be made at RequesterBase – multiple pre-programmed steps are possible\n - Requests / steps without items are not processed. They just open the station for a delivery that was meant for another station. Avoid this! \n - Maximum of  40 different stacks (40 unique item-names)\n - Maximum of 160 stacks (i.e “1600 beacons”)\n - Conclusion: don’t fill all stacks/wagons when requesting items with small stacksize. \n - requests with more than 8 unique items cannot be buffered completely \n   - they must be used up completely at the requester before the next step can be requested\n - if requests are larger than the train capacity the delivery can be triggered manually (in the train-menu: send to requester station)\n   - left items are cleaned from provider and unloaded when train returns\n - collisions of signal-pulses are not handled \n   - i.e. if multiple signals are sent during the same tick, or if a permanent signal is on the train-network\n   - non-item-signals (like signal-red) cannot be loaded on a train and therefore block the departure \n   - signals used in the request pulses are filterd out before determining the load\n\n---\n- **train configuration:**\n - sender-station: circuit signal G > 0 AND 5 seconds of inactivity (set conditions in this order!)\n - requester-station: 5 seconds of inactivity\n \n---\n- **operation variants:**\n - deliver 5 batches of items \n   – just set your requests in blockR2 from right to left and then enable the combinator in blockR1\n - deliver less than 5 batches of items \n   – set your requests in blockR2 \n   - remove the constant combinators you don’t need \n   - leave the left combinantor; match the left decider combinator (and lamp) to your number of steps\n   - the left combinator sends out -1 signal-w and -753 signal-z to negate the enable combinator in R1\n - deliver more than 5 batches of items \n   – extend blockR2 \n   - increment the comparator to signal-S in the same way as the other decider combinators, \n   - set the number of steps / request-batches in the lowest combinator of blockR7\n   - the last step should always send -1 signal-w and -753 signal-z to negate the enable combinator in R1\n - deliver repeatedly different batches \n   – set the number of steps decreased by 1 in the lowest combinator of blockR7\n   - since there is no \"last step\" no combinator is needed to cancel the enable combinator in R1\n   - depending on what you deliver the repetition may stop if the last request cannot be unloaded \n - Note: the lamps use the same number as the respective decider combinator of the same column in blockR2\n - Note: counting of steps starts at 0 – so the comparison “smaller than” (blockR7) will lead to the specified results\n\n---\n- **train activity status:** (of RequesterBase)\n - one red light – train is inactive, ready to receive request (default status)\n - red light & blue light – train is active somewhere else\n - yellow light & blue light – a request by this station has been sent and is loaded onto the train\n - yellow, blue & green light – the train (with the delivery) is on its way to this station\n\n---\n**Detailed block-description of RequesterBase:** [Picture](https://i.imgur.com/On368IC.jpg)\n\n(ProviderBase below)\n\n1. **On-Off-Switch.** \n - Is off when blueprint is built. Switch on when you are ready to request. \n - Only switch on when you have successfully connected the station to your track-network. \n - Connect via green cable to big electric poles. \n \n2. **Request-stack:** \n - each column ends with a constant combinator that contains the items to request. \n - Max. 160 stacks \n - Max. 40 unique stacks\n - Combinators are permanently “on”. \n - Each column is requested separately from right to left. \n - Steps are checked via signal-S. Counting starts at 0. \n - Expand the blockR by incrementing signal-S in lamps and decider-combinators. Also increase lowest combinator in blockR7. \n - To disable the station after the last step, make the last combinator send signal-W=-1 and signal-Z=-753. This effectively disables the timer (blockR3). \n - Do not litter your request with virtual signals. The signal-4 and signal-2 that can be seen in the example have the value 0. Requests for virtual signals cannot be loaded to the train and will prevent departure of the train from the delivery-station. \n\n3. **Delay-Timer:** \n - if conditions 2, 3 and 4 (from blockR4) are met (signal-W=3) the timer starts to count in ticks. \n - If the timer has run down signal-W=3 is piped through. \n - The delay also acts a Station ID. Duplicate values for the timer could result in conflicting requests if you are using multiple requester-stations. Do not use duplicate IDs. \n - IDs / the delay should be incremented in multiples of 10. \n - Use the constant combinator to set the value. \n\n4. **Check if all request-conditions are met:** \n - each true condition sends a W=1. \n 1. All passive provider chests are empty \n 2. Train is ready / blue light is off \n 3. Train-station is currently closed / yellow light is off \n 4. Station is enabled (see blockR1).  \n - If W=4 all signals are piped through. Also see blockR2. \n\n5. **remove internal signals:** \n - before sending the current request-step to the main-network the internal signal signal-W and signal-S are removed. \n - The system index signal-Z=753 is kept. \n\n6. **load-unload-controller:** \n - counts content of incoming train\n - Unloading-inserters are active when train is present and train has cargo. \n - Unloading-inserters decrease initial cargo-count and are disabled when initial cargo-count reaches zero. \n - Loading-inserters are disabled until train is present and initial cargo-count reaches zero. \n - The constant combinator in the lower right is “off”. Turn it on and off again to reset the steps of the request stack (also see blockR2 and blockR7). \n\n7. **step-counter:** \n - each time a train enters the station the step-counter in incremented by 1. \n - The lowest decider combinator holds the reset-condition for the step-counter. \n - If you want to request in ever-repeating cycles, then set the lowest decider combinator to “signal-S [smaller than] 5” (value in blueprint is 6). \n - Remember: counting starts at 0. \n - Remember: items are only requested when passive provider-chests are empty. \n - Note: empty steps do not request an empty train and lead to an “unclean state” of the station, because the timer in blockR3 keeps running. \n\n8. **detect present train**\n - After 350 ticks after the train entered the station the signal-R will be sent to blockR9. This will reset the signal-L in the memory-cell and disable the train stop. \n\n9. **enable and disable train stop:** \n - when a request is sent, it will be accommodated by the signal-Z=753\n - If signal-Z is detected signal-L will be saved in a SR-latch. \n - As long as signal-L equals 1 the yellow lamp will light up (also see blockR2). \n - If the yellow lamp is on, the train stop is enabled. \n - If signal-Z is detected and signal-blue is smaller than 1 the signal is sent to the delivery-station.   \n \n10. **network interface and status-counter:**\n - Upper left arithmetic combinator is the connection to the public network. \n - Other combinators count how often the signal-Z=753 is sent and will therefore show the readiness of the train.  \n - Requests will only be sent if the blue light is off (signal-blue=0). \n\n\n---\n\n**Detailed block-description of ProviderBase:** [Picture](https://i.imgur.com/niGQ51w.jpg)\n\n1. **Input-Filter:** \n - blocks everything without correct signal-Z-index (=753) \n - subtracts signal-U which is sent, when the train leaves the ProviderBase (activates green light in RequesterBase)\n - subtracts signal-V which is sent, when the train signals completion of return & unload\n\n2. **Request memory-cell:** \n - saves incoming request for later comparison\n - memory is wiped, when signal-black=1 (signal-black comes from blockP7)\n\n3. **requester & separator:** \n - requests and separates exact amounts\n - separate copy of the partitial request is saved in a additional memory-cell. this copy sets the request of the requester-chest\n - the lower vertical inserter subtracts grabbed content from memory-cell (it grabs the full stack-size)\n - if subtraction in memory-cell results in a negative value, the negative value is multiplied with -1 (to make it positive) and outputted as signal-I'. this signal-I' is used to set the stack-override-value in the upper vertical inserter, which removes items from the cycle into an active provider chest. \n - note: it is necessary to limit the steel-chest to 1 stack, if something backs up, calculations will still make correct values of signal-I'.\n - the remaining items are grabbed by the horizontal inserter and are moved to the train. \n - the next downward-facing inserter counts all items it grabbed, to disable the unloaders (i.e. blockP9)\n - memory-cells ware wiped when signal-black is sent\n\n4. **wagon separator:** \n - divides initial request by four and distributes to instances of P3.\n - initial request is divided by two, integer division excess (modulo) is added to one set of results\n - then both ammounts are divided by two again, modulo is added again to one set of results\n - blockP4' to blockP4''', make those calculations \n - several arithmetic combinators calculate \"[each]+0\" to maintain tick-synchronicity \n\n5. **train-load-counter:** \n - reads train and compares current load with request\n - signal-L is only sent when memory-cells are empty to prevent instant departure (before a new request is recieved)\n - current load is multiplied by -1, signals are piped through if signal-L=0 \n - filters out the train-ID (signal-T)\n\n6. **go-pulse-generator:** \n - if request minus train-content = 0 then signal-[g]o \n - signals of negative train-content and request-memory-cell are combined in a decider combinator [each=0] output signal-G=1\n - signal-G=1 is made to a pulse and sent to the train (which is the first wait-condition) \n\n7. **several readychecks:** \n - fulfillment of each of those questions increases signal-R by 1 \n 1. is the signal-L=0? (has the signal-black been sent to wipe the memory-cells from the previous request)\n 2. is the train present? (read train-ID as signal-T; is signal-T greater than 1)\n 3. is the train-content=0? (trash unload complete; read train without signal-T)\n - signal-R=3 is required to send the pulse witz signal-V to the RequesterBase (turns off blue light, resets ID-counter)\n\n8. **the track-signal-interface:** detects the leaving and incoming train. \n - rail-signals send custom signals (open interface to inspect)\n - a leaving train pulses signal-white with signal-Z=753 (second signal for the RequesterBase to switch on green light)\n - a leaving train also sends signal-black into the ProviderBase to wipe the memory-cells\n - chain-signals could have been used since .16\n\n9. **trash unloaders:** pairs of stack-inserters unload into active providers (for every wagon). \n - are only active if memory-cells are empty (memory-cells are cleared when train leaves, before next request is received)\n\n \n---\n\n- **Low-level-debugging:**  \n\n - since the update 2018-10-12 all ID- / Delay-counter and requester stations are reset, when the train completely unloads in the provider station\n   - so to reset a faulty state, simply return the train to the provider station\n   - if the train is inside the provider station, manually drive it out of the provider station and drive it back in. \n - In all other error-cases it should be sufficient to turn on the \"step-reset\"-combinator (r7) for a short time. turn it off afterwards. \n\n--- \n\n- ** changelog: ** \n- 2018-08-07 (v02): \n - added some wires to reset whole station from \"step-reset\"-combinator in r7\n- 2018-09-13 (v08):\n - ProviderBase: now all wagons are loaded simultaneously. \n - ProviderBase: cleaned up wiring\n - more resilient status: when the train returns to the providerbase all requesters are reset \n- 2018-10-12 (v09):\n - updated and clarified documentation \n - returning and completely unloading the train in the provider station will send a special signal to: \n   1. close all requester stations (yellow light off). \n   2. reset the blue status in all requester stations.\n   3. reset all request timers simultaneously (request timer =  ID). \n - old versions of providers & requesters should be updated, as they do not process the new reset-signal.\n   - updates can be \"printed over\" and do not require complete reassembly of the requester station\n   - updates only require one additional arithmetic- and decider-combinator per requester \n- 2019-01-26 (v10): \n - doubled loading speed of ProviderBase\n   - Requesters are compatible. No update needed. \n - added possibility to add specialized modues to a certain RequesterBase\n   - emergency buildBot requester [(see here)]((https://factorioprints.com/view/-LXA1qPbtXRp8KI8ZPxW))\n   - buildup blocker for higher IDs [(see here)](https://factorioprints.com/view/-LX9bQG1RsJzUXNQPRm3)\n- 2020-09-15 (v11): \n - cleaned up wires\n - added request fulfillment indicator to ProviderBase\n- 2022-08-18 (v12)\n - resilience: if a second request is received before the current request is delivered, a global reset signal is sent te reinitialize all timers. \n   - steps in Requesters are not changed and will be sent again. \n   - The reset signal unloads the current train\n   - Old Requesters are compatible (up to v09). \n - added short explanation in Blueprint \n\n--- ",
  "lastUpdatedDate": 1660847973020,
  "numberOfFavorites": 21,
  "tags": {
    "0": "/mods/vanilla/",
    "1": "/train/unloading station/",
    "2": "/train/left-hand-drive/",
    "3": "/train/right-hand-drive/",
    "4": "/version/1,0/"
  }
}
